# üöÄ Configuration System Upgrade Guide

## ‚úÖ **–°–∏—Å—Ç–µ–º–∞ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞!**

–í–∞—à–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –±—ã–ª–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –Ω–æ–≤—É—é –≤–Ω–µ—à–Ω—é—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

## üîç **–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å?**

### **–î–æ (–ø—Ä–æ–±–ª–µ–º—ã):**
- ‚ùå –ö–æ–Ω—Ñ–∏–≥–∏ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∞ (–∑–∞—Ç–∏—Ä–∞–ª–∏—Å—å –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö)
- ‚ùå –¢–æ–∫–µ–Ω—ã –≤ JSON —Ñ–∞–π–ª–∞—Ö (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ)
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–≤
- ‚ùå –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π

### **–ü–æ—Å–ª–µ (—Ä–µ—à–µ–Ω–∏–µ):**
- ‚úÖ **–í–Ω–µ—à–Ω–µ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ**: `/home/nick/.telegram-bot-manager/`
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –°–µ–∫—Ä–µ—Ç—ã –æ—Ç–¥–µ–ª—å–Ω–æ, –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ 600
- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –ö–æ–Ω—Ñ–∏–≥–∏ –ø–µ—Ä–µ–∂–∏–≤–∞—é—Ç –ª—é–±—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ**: –°—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –±—ç–∫–∞–ø—ã, –º–∏–≥—Ä–∞—Ü–∏–∏

## üìç **–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**

```
/home/nick/.telegram-bot-manager/
‚îú‚îÄ‚îÄ configs/bots.json      # –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–æ–≤
‚îú‚îÄ‚îÄ secrets/secrets.env    # –¢–æ–∫–µ–Ω—ã –∏ API –∫–ª—é—á–∏ (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ)
‚îú‚îÄ‚îÄ backups/              # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏
‚îî‚îÄ‚îÄ schemas/              # –°—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏
```

## üéØ **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
python scripts/config_manager_cli.py show

# –û–±–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
python scripts/config_manager_cli.py update-bot --id 1 --name "–ù–æ–≤–æ–µ –∏–º—è"

# –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω
python scripts/config_manager_cli.py secret --add new_bot_token "123456:ABC..."

# –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é
python scripts/config_manager_cli.py backup --create

# –í–∞–ª–∏–¥–∞—Ü–∏—è
python scripts/config_manager_cli.py validate
```

## üîÑ **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (—Ç–µ–ø–µ—Ä—å –±–µ–∑–æ–ø–∞—Å–Ω–æ!):**

```bash
# 1. –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞
git pull origin main

# 2. –ö–æ–Ω—Ñ–∏–≥–∏ –æ—Å—Ç–∞—é—Ç—Å—è –Ω–µ—Ç—Ä–æ–Ω—É—Ç—ã–º–∏!
# –ë–æ–ª—å—à–µ –Ω–∏–∫–∞–∫–∏—Ö –ø–æ—Ç–µ—Ä—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö

# 3. –ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º
python src/app.py
```

## üíæ **–ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞:**

- **‚úÖ –ë–æ—Ç—ã**: 1 –±–æ—Ç —É—Å–ø–µ—à–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω (@diosybot)
- **‚úÖ –°–µ–∫—Ä–µ—Ç—ã**: 2 —Ç–æ–∫–µ–Ω–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- **‚úÖ –ë—ç–∫–∞–ø**: –°–æ–∑–¥–∞–Ω –±—ç–∫–∞–ø —Å—Ç–∞—Ä–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è**: –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã

## üõ°Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**

–¢–æ–∫–µ–Ω—ã —Ç–µ–ø–µ—Ä—å —Ö—Ä–∞–Ω—è—Ç—Å—è –≤:
- **–§–∞–π–ª**: `/home/nick/.telegram-bot-manager/secrets/secrets.env`
- **–ü—Ä–∞–≤–∞**: `600` (—Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å)
- **–§–æ—Ä–º–∞—Ç**: –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üìã **–ß—Ç–æ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å:**

1. **–°—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã**: `bot_configs.json` –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
2. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É
3. **–ë—ç–∫–∞–ø—ã**: –°–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –¢–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ–∑–æ–ø–∞—Å–Ω—ã

## üÜò **–í —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
python scripts/config_manager_cli.py validate

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –±—ç–∫–∞–ø–∞
python scripts/config_manager_cli.py backup --list
python scripts/config_manager_cli.py restore --backup /–ø—É—Ç—å/–∫/–±—ç–∫–∞–ø—É

# –≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
# (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫, —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã)
```

## üéâ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- **üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –¢–æ–∫–µ–Ω—ã –∑–∞—â–∏—â–µ–Ω—ã
- **üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –ù–∏–∫–∞–∫–∏—Ö –ø–æ—Ç–µ—Ä—å –ø—Ä–∏ –∞–ø–¥–µ–π—Ç–∞—Ö  
- **üíæ –ë—ç–∫–∞–ø—ã**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏
- **üõ°Ô∏è –í–∞–ª–∏–¥–∞—Ü–∏—è**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

---

**üöÄ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ —Å–ø–æ–∫–æ–π–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ, –Ω–µ –±–æ—è—Å—å –ø–æ—Ç–µ—Ä—è—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–æ—Ç–æ–≤.

*–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `docs/EXTERNAL_CONFIG_SYSTEM.md`*





