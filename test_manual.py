#!/usr/bin/env python3
"""
–†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è - –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
"""
import time
import os

def create_instructions():
    """–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—à–∞–≥–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π"""
    
    instructions = f"""
üß™ –†–£–ß–ù–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ê–í–¢–û–û–ë–ù–û–í–õ–ï–ù–ò–Ø
====================================
–í—Ä–µ–º—è: {time.strftime('%Y-%m-%d %H:%M:%S')}

üìã –ü–û–®–ê–ì–û–í–´–ï –ò–ù–°–¢–†–£–ö–¶–ò–ò:

–®–ê–ì 1: –ü–†–û–í–ï–†–ö–ê –°–¢–ê–¢–£–°–ê
-----------------------
1. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ: ps aux | grep "python.*app.py"
3. –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã: pkill -f "python.*app.py"

–®–ê–ì 2: –ó–ê–ü–£–°–ö –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø
-------------------------
1. cd {os.getcwd()}/src
2. python3 app.py &
3. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 10 —Å–µ–∫—É–Ω–¥
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: curl -s -o /dev/null -w "%{{http_code}}" http://localhost:60183/
   –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 401 (–Ω—É–∂–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)

–®–ê–ì 3: –°–û–ó–î–ê–ù–ò–ï –¢–ï–°–¢–û–í–û–ì–û –ö–û–ú–ú–ò–¢–ê
----------------------------------
1. cd {os.getcwd()}
2. echo "# Test update $(date)" >> README.md
3. git add README.md
4. git commit -m "test: manual auto-update test"

–®–ê–ì 4: –¢–ï–°–¢ –ê–í–¢–û–û–ë–ù–û–í–õ–ï–ù–ò–Ø
---------------------------
–í–∞—Ä–∏–∞–Ω—Ç A - –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
1. –û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:60183/
2. –õ–æ–≥–∏–Ω: admin, –ü–∞—Ä–æ–ª—å: securepassword123
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Update Application"
4. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º

–í–∞—Ä–∏–∞–Ω—Ç B - –ß–µ—Ä–µ–∑ API:
1. curl -u admin:securepassword123 -X POST http://localhost:60183/api/update

–®–ê–ì 5: –ü–†–û–í–ï–†–ö–ê –†–ï–ó–£–õ–¨–¢–ê–¢–ê
---------------------------
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –∑–∞–≤–∏—Å–∞–µ—Ç –Ω–∞ 15%
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±—ã—Å—Ç—Ä–æ, –¥–æ 60 —Å–µ–∫)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª–æ—Å—å:
   curl -s -o /dev/null -w "%{{http_code}}" http://localhost:60183/

üéØ –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´:
‚úÖ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ù–ï –∑–∞–≤–∏—Å–∞–µ—Ç –Ω–∞ 15%
‚úÖ –í—Å–µ —ç—Ç–∞–ø—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –±—ã—Å—Ç—Ä–æ (5-60 —Å–µ–∫)
‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
‚úÖ HTTP —Å—Ç–∞—Ç—É—Å 401 –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

‚ùå –ü–†–û–ë–õ–ï–ú–´ –ï–°–õ–ò:
- –ó–∞–≤–∏—Å–∞–Ω–∏–µ –Ω–∞ "Stopping all bots..." –±–æ–ª–µ–µ 30 —Å–µ–∫
- HTTP —Å—Ç–∞—Ç—É—Å 000 –∏–ª–∏ —Ç–∞–π–º–∞—É—Ç –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –ü—Ä–æ—Ü–µ—Å—Å app.py –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

üìä –û–¢–ß–ï–¢ –û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ò:
========================
–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

[ ] –®–∞–≥ 1 - –û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤: –í–´–ü–û–õ–ù–ï–ù
[ ] –®–∞–≥ 2 - –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: –í–´–ü–û–õ–ù–ï–ù  
[ ] –®–∞–≥ 3 - –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞: –í–´–ü–û–õ–ù–ï–ù
[ ] –®–∞–≥ 4 - –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –í–´–ü–û–õ–ù–ï–ù
[ ] –®–∞–≥ 5 - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞: –í–´–ü–û–õ–ù–ï–ù

–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞: ____
–í—Ä–µ–º—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: ____
–û–±—â–µ–µ –≤—Ä–µ–º—è: ____

–ü—Ä–æ–±–ª–µ–º—ã (–µ—Å–ª–∏ –µ—Å—Ç—å):
____________________
____________________

–û—Ü–µ–Ω–∫–∞: ‚úÖ –£–°–ü–ï–• / ‚ùå –û–®–ò–ë–ö–ê / ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û
"""
    
    return instructions

def main():
    print("üìù –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è...")
    
    instructions = create_instructions()
    
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ —Ñ–∞–π–ª
    with open("MANUAL_TEST_INSTRUCTIONS.txt", "w", encoding="utf-8") as f:
        f.write(instructions)
    
    print("‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã: MANUAL_TEST_INSTRUCTIONS.txt")
    print()
    print("üìã –ö–†–ê–¢–ö–ê–Ø –í–ï–†–°–ò–Ø:")
    print("1. pkill -f 'python.*app.py'")
    print("2. cd src && python3 app.py &")
    print("3. echo '# Test' >> README.md && git add README.md && git commit -m 'test'")
    print("4. curl -u admin:securepassword123 -X POST http://localhost:60183/api/update")
    print("5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ù–ï–¢ –∑–∞–≤–∏—Å–∞–Ω–∏—è –Ω–∞ 15% –∏ –µ—Å—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π restart")
    print()
    print("üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: http://localhost:60183/")
    print("üîë admin:securepassword123")

if __name__ == "__main__":
    main()

